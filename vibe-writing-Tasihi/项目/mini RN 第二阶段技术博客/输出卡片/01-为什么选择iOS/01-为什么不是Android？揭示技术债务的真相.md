## 为什么不是 Android？揭开技术债务的恐怖真相

### 一个令人沮丧的发现

当我满怀信心地开始为 Mini React Native 添加 Android 支持时，我以为这会是个轻松的任务——毕竟不就是个跨平台框架吗？但现实给了我一记响亮的耳光。

第一个下午，我在 NDK 配置的泥潭里挣扎。Android Studio 不断提示各种兼容性问题，CMake 找不到正确的工具链，编译器报错像雪片一样飞来。"这不就是配个环境吗？"我喃喃自语，但时钟已经指向晚上。

### JavaScriptCore 的移植噩梦

真正的噩梦从第二天开始。

Android 没有 JavaScriptCore。这意味着什么？意味着我要么：
- 从源码编译整个 JavaScriptCore（编译时间：2-3小时）
- 找第三方预编译版本（版本兼容性是个坑）
- 改用 Hermes（Facebook 的替代引擎，但 API 完全不同）

我选择了从源码编译，结果遇到了：
- NDK 版本不匹配
- ARM64 架构支持问题
- 链接错误层出不穷

### JNI 的复杂性深渊

就算解决了 JavaScriptCore，还有 JNI 在等着我。

Java 和 C++ 之间的桥梁不是简单的函数调用。你要处理：
- 类型转换的繁琐
- 异常传播的复杂
- 内存管理的噩梦
- 线程同步的陷阱

每一步都是个新的坑。

### 技术债务的真相

这时候我明白了：Android 支持不是"额外功能"，而是一个**技术债务黑洞**。

- iOS：0.5 天搞定，因为 Apple 把一切都准备好了
- Android：至少 3 天，而且每一步都可能卡住

关键是，这些复杂性和 React Native 的核心原理——Bridge 通信、模块系统——毫无关系。它们只是平台集成的"税"。

### 智慧的觉醒

我看着日历，突然意识到：如果继续陷在 Android 的泥潭里，整个项目的时间线都会被打乱。更重要的是，我会失去学习的焦点——本来是为了理解 React Native 的原理，结果变成了和构建系统搏斗。

有时候，放弃不是认输，而是智慧。

> 这让我思考：为什么有些看似"应该支持"的平台，反而会成为项目的陷阱？是技术的选择，还是 ego 的作祟？