# 格式检查

文件格式标准和检查流程。

---

## 📝 知识卡片格式标准

### 空行规则

**默认原则**：永远不空行

**仅2个例外**：
1. `## 二级标题` 前空一行
2. 最后的结尾引用块 `>` 前空一行

**其他所有地方都不空行**：
- 二级标题后：不空行
- 三级标题前后：不空行
- 段落之间：不空行
- 列表和文字之间：不空行
- 对话双链前后：不空行

**关于末尾引用块**：
知识卡片需要末尾引用块来标记来源（通过双链系统），格式：`> [[源文档/知识卡片]]`

---

## 🎨 输出卡片节点格式标准

### ⚠️ 不要一级标题
输出卡片节点文件**不要有一级标题**（`#`），因为Obsidian会自动用文件名作为标题。
- ❌ 错误：文件开头写 `# 标题`
- ✅ 正确：内容直接从二级标题（`##`）开始

### ⚠️ 绝对禁止空行
输出卡片节点文件**不要有任何空行**，所有内容紧密排列。

### ⚠️ 不需要末尾引用块
输出卡片**不需要**在末尾添加原知识卡片的引用块双链。
- ❌ 错误：在输出卡片末尾添加 `> [[知识卡片/XX]]`
- ✅ 正确：内容直接结束，不添加任何引用块

### 示例
**正确**：
```markdown
## 第一章节
这是内容第一句。这是内容第二句。
### 小节
这是小节内容。
## 第二章节
这是第二章节内容。
```

**错误**：
```markdown
# 节点标题
## 第一章节

这是内容第一句。

这是内容第二句。
```

---

## ✅ 格式检查原则

**延迟验证**：生成时遵守格式标准，下次Read时发现问题再修正，无需立即回读验证。

**常见错误提示**：
- ❌ `## 标题` 后面空了行
- ❌ `### 标题` 前面空了行
- ❌ 输出节点有任何空行
